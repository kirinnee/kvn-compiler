"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Frame=function(){function Frame(frame,optioncallback){_classCallCheck(this,Frame);this.frameCallback=frame;this.checkLoop=null;this.optionDef=optioncallback;if(this.optionDef!==null&&typeof this.optionDef!=="undefined"){if(typeof this.optionDef!=="function"){displayError("Illegal Constructor Argument: new Frame(frame,defOption) defOption is not a function!")}}}_createClass(Frame,[{key:"callBackOption",value:function callBackOption(){if(this.optionDef!==null&&typeof this.optionDef!=="undefined"){if(typeof this.optionDef==="function"){return this.optionDef()}}return null}},{key:"hasOptionCallBack",value:function hasOptionCallBack(){if(this.optionDef===null||typeof this.optionDef==="undefined"){return false}else{return true}}},{key:"start",value:function start(force){if(debugMode){$("#sceneframe").css("display","inline-block");$("#sceneframe").html("Scene <span class='red'>"+currentScene.getID()+"</span> Frame <span class='blue'>"+currentScene.getCurrent()+"</span>")}else{$("#sceneframe").css("display","none")}if(force){this.frameCallback();return true}else{if(pause){var f=this;var cI=setInterval(function(){if(!pause){clearInterval(cI);f.frameCallback()}},10);return false}else{this.frameCallback();return true}}}},{key:"pause",value:function pause(){if(window.activeStage!==null){var stage=window.activeStage;stage.pause();var cArr=stage.getCharArray();for(var i=0;i<cArr.length;i++){cArr[i].pause()}stage.getTextbox().pause()}}},{key:"resume",value:function resume(){if(window.activeStage!==null){var stage=window.activeStage;stage.resume();var cArr=stage.getCharArray();for(var i=0;i<cArr.length;i++){cArr[i].resume()}stage.getTextbox().resume()}}},{key:"proceed",value:function proceed(force){if(window.activeStage!==null){if(!this.checkIfEnded()){if(inAlert){if(force){$("#ok-button").trigger("click")}}var stage=window.activeStage;if(!stage.proceed(force)){return false}var cArr=stage.getCharArray();for(var i=0;i<cArr.length;i++){if(!cArr[i].proceed(force)){return false}}if(!stage.getTextbox().displayfinish(force)){return false}return this.proceed(force)}}else{return true}return true}},{key:"onClick",value:function onClick(){if(window.activeStage!==null){return this.proceed(false)}return true}},{key:"checkIfSkippable",value:function checkIfSkippable(){if(window.activeStage!==null){var stage=window.activeStage;if(!stage.isSkippable()){return false}var cArr=stage.getCharArray();for(var i=0;i<cArr.length;i++){if(!cArr[i].isSkippable()){return false}}if(!stage.getTextbox().isSkippable()){return false}return true}return true}},{key:"checkIfEnded",value:function checkIfEnded(){if(window.activeStage!==null){var stage=window.activeStage;if(stage.isAnimating()){return false}var cArr=stage.getCharArray();for(var i=0;i<cArr.length;i++){if(cArr[i].isAnimating()){return false}}if(stage.getTextbox().isAnimating()){return false}return true}else{return true}}}]);return Frame}();